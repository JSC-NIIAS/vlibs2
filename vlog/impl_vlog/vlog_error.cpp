#include "impl_vlog/vlog_error.h"

//=======================================================================================
//      vlog::error
//=======================================================================================
vlog::error::error( const char* file, int32_t line, const char* func )
{
    _msg.append( "VERROR AT [" + base_name(file) +
                 ':' + vcat(line).str() +
                 "][" + func + "] ==> " );
}
//=======================================================================================
vlog::error::error( const error &other )
    : impl_vcat::vcat_iface<vlog::error>()
    , _msg( other._msg )
{
    vfatal << _msg;
}
//=======================================================================================
const char* vlog::error::what() const noexcept
{
    return _msg.c_str();
}
//=======================================================================================
//      vlog::error
//=======================================================================================



